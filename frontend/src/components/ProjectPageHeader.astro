---
interface Technology {
  name: string;
  backgroundColor: string;
  textColor: string;
}

import TechnologyLabel from "./TechnologyLabel.astro";

let { projectInfo } = Astro.props;
let { backgroundUrl, technologies } = projectInfo;
---

<div class="project-page-header">
  <div
    class="project-background-image"
    style={`background: url(${backgroundUrl}) var(--foreground) no-repeat center center / cover;`}
  >
  </div>
  <div class="project-header-content-container">
    <div class="project-header-content">
      <div class="project-header-content-inner">
        <h1>{projectInfo.title}</h1>
        <div class="project-header-technologies">
          {technologies.map((technology: Technology) => (
            <TechnologyLabel
              name={technology.name}
              backgroundColor={technology.backgroundColor}
              textColor={technology.textColor}
            />
          ))}
        </div>
      </div>
      <div class="project-header-content-description">
        <p>
          {projectInfo.description}
        </p>
      </div>
    </div>
  </div>
</div>

<style>
  h1 {
    line-height: 1.1;
    font-size: var(--font-size-title);
  }
  .project-page-header {
    height: calc(100dvh - 128px);
    display: flex;
    width: 100%;
    flex-direction: column;
    gap: 12px;
  }
  .project-background-image {
    border-radius: 12px;
    padding: 20px;
    border: 1px solid var(--border);
    flex: 1;
  }
  .project-header-content-container {
    border: 1px solid var(--border);
    display: flex;
    border-radius: 12px;
    background-color: var(--foreground);
  }
  .project-header-content-inner {
    display: flex;
    flex-direction: column;
    gap: 24px;
    flex: 1;
  }

  .project-header-content-description {
    flex: 1;
  }

  .project-header-content-description p {
    font-size: var(--font-size-description);
    color: var(--copy-light);
  }

  .project-header-content {
    padding: 60px;
    display: flex;
    align-items: flex-start;
    gap: 48px;
  }

  .project-header-technologies {
    flex-wrap: wrap;
    display: flex;
    gap: 10px;
  }

  @media (max-width: 880px) {
    h1 {
      line-height: 1.3;
    }
    .project-header-content {
      flex-direction: column;
      gap: 16px;
      padding: 30px;
    }

    .project-header-technologies {
      gap: 8px;
    }

    .project-header-content-inner {
      gap: 12px;
    }

    .project-header-content-container {
      flex: 0;
      order: -1;
    }
    .project-background-image {
      flex: 0 350px;
    }
  }
</style>
